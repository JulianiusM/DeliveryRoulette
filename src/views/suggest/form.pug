//- views/suggest/form.pug – Suggestion Form
extends ../layout

block meta
    title Suggest a Restaurant | DeliveryRoulette

block title
    h1.card-header.text-center
        i.bi.bi-dice-5.me-2
        | Suggest a Restaurant

block content
    - const d = data || {}
    - const dietTags = d.dietTags || []
    - const selectedDietTagIds = d.selectedDietTagIds || []

    form(method="POST" action="/suggest")
        .row.g-4
            //── Diet Filters ─────────────────────────────
            .col-md-6
                .card.text-bg-dark.border-secondary
                    .card-header
                        i.bi.bi-heart-pulse.me-2
                        | Diet Requirements
                    .card-body
                        if dietTags.length === 0
                            p.text-white-50.mb-0 No diet tags available.
                        else
                            each tag in dietTags
                                .form-check.mb-2
                                    input.form-check-input(
                                        type="checkbox"
                                        name="dietTagIds"
                                        value=tag.id
                                        id=`diet-${tag.key}`
                                        checked=selectedDietTagIds.includes(tag.id)
                                    )
                                    label.form-check-label(for=`diet-${tag.key}`) #{tag.label}

            //── Cuisine Filters ──────────────────────────
            .col-md-6
                .card.text-bg-dark.border-secondary
                    .card-header
                        i.bi.bi-cup-hot.me-2
                        | Cuisine Filters
                    .card-body
                        .mb-3
                            label.form-label.mb-1(for="cuisineIncludes")
                                i.bi.bi-plus-circle.me-1
                                | Include Cuisines
                            input#cuisineIncludes.form-control.text-bg-dark(
                                type="text"
                                name="cuisineIncludes"
                                value=(d.cuisineIncludes || '')
                                placeholder="e.g. Italian, Sushi, Thai"
                            )
                            .form-text.text-white-50 Comma-separated. Only restaurants matching these names will be considered.

                        .mb-0
                            label.form-label.mb-1(for="cuisineExcludes")
                                i.bi.bi-dash-circle.me-1
                                | Exclude Cuisines
                            input#cuisineExcludes.form-control.text-bg-dark(
                                type="text"
                                name="cuisineExcludes"
                                value=(d.cuisineExcludes || '')
                                placeholder="e.g. Fast Food, Burger"
                            )
                            .form-text.text-white-50 Comma-separated. Restaurants matching these names will be excluded.

        .text-center.mt-4
            button.btn.btn-lg.btn-success(type="submit")
                i.bi.bi-dice-5.me-2
                | Suggest!
